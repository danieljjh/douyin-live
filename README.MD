# 抖音直播爬虫 python 实现

抖音弹幕抓取，礼物抓取，直播流地址抓取，可以抓取到m3u8直播流链接，还有flv直播流链接，还有直播礼物打赏排名，在线观众排名等等。  
可配置服务端地址，将数据推送到自己的服务器，可以控制是否开启推送等配置。可以控制是否保存lOG文件等配置。  
欢迎参观我的个人博客：[我的CSDN博客，阅读量过260W，粉丝过2W](https://blog.csdn.net/weixin_44786530?spm=1000.2115.3001.5343)

## 环境大于3.6应该都可以

```
python 3.9 
```

## 安装依赖

```shell
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

## 生成Proto文件

(proto是需要单独安装的一个工具哦，mac电脑应该是必须执行这条命令才可以，windows的应该可以直接用)

```
protoc -I . --python_out=. ./proto/dy.proto
```

此时会在proto文件夹中重新生成dy_pb2.py文件，mac电脑一定要这样做，windows也尽量这样生成一下，避免程序启动失败。


## 动态配置

```python
# 配置日志信息
import logging

# 配置日志信息
LOG_FILE_SAVE = True
LOG_FILE_NAME = "log.txt"
LOG_LEVEL = logging.DEBUG
LOG_FORMAT = "%(asctime)s - %(levelname)s - %(message)s"

# 直播信息配置：直播地址，直播用户排名，直播排名抓取间隔，直播推送到后台，推送到后台地址
LIVE_ROOM_URL = "https://live.douyin.com/646454278948"
# 特殊礼物单独统计
LIVE_GIFT_LIST = ["月下瀑布"]
# 是否抓取在线打赏排名
LIVE_RANK_LIST = True
# 获取礼物排名时间间隔: 建议不要低于10秒
LIVE_RANK_INTERVAL = 10
# 使用ws推送直播数据
LIVE_WEB_SEND = False
# 是否开启HTTP推送
LIVE_HTTP_SEND = True
# 多久向服务端推送一条消息
LIVE_SEND_INTERVAL = 3
# HTTP推送地址：普通用户不用管下面的配置，需要将直播数据推送到你们服务器的才配置
LIVE_WEB_SEND_URL = "http://************/game/gamemgnt"
# 一场比赛唯一的UUID
GAME_UUID = "157ae45b-263b-414a-8976-6d2ad210a7e8"
# 应援UUID(这是我们自己项目推送使用的参数):4
DONATION_UUID = "179019d3-83dd-4619-b7d9-579786659204"
```



## 运行

打开浏览器，打开你想监听的抖音直播间，然后将直播间网址黏贴到config.py的LIVE_ROOM_URL中，然后运行main.py程序即可看到效果。
注意：如果要获取排名，需要将时间间隔设置大一点，否则抓取频繁会获取不到数据：打包房间人数失败

```shell
python main.py
```


## 直播流地址

直播流地址可以使用在线播放工具测试是否可以正常播放直播内容  
西瓜播放器(支持flv直播流)：https://h5player.bytedance.com/generate/  
m3u8在线播放器(播放m3u8流)：http://tool.pfan.cn/m3u8/  
![](https://img-blog.csdnimg.cn/1ee41000b7294de587bf35c446f94024.png)
![](https://img-blog.csdnimg.cn/8df84d0b24334d3db563c1014e731dab.png)

## TODO BUG

有的直播有可能获取不到m3u8的链接，待研究：https://live.douyin.com/3652616706  
flv直播流地址区分标清|高清|蓝光地址，需要都获取到

## 运行效果
```shell
2024-03-08 12:22:30,371 - DEBUG - https://live.douyin.com:443 "GET /352577626339 HTTP/1.1" 200 None
主播账号信息: {'id_str': '316308007967085', 'sec_uid': 'MS4wLjABAAAAFwrpDSzyYinUSad9sdZQR1aH7220JyGZ46IQiU7tQP4', 'nickname': '三国麻将会所', 'avatar_thumb': {'url_list': ['https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_d72a7a6e92dc22f7ccb3fa74862bf286.jpeg?from=3067671334', 'https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_d72a7a6e92dc22f7ccb3fa74862bf286.jpeg?from=3067671334', 'https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_d72a7a6e92dc22f7ccb3fa74862bf286.jpeg?from=3067671334']}, 'follow_info': {'follow_status': 0, 'follow_status_str': '0'}}
直播流m3u8链接地址是: https://pull-l3.douyincdn.com/third/stream-114747439126151647_or4.m3u8?auth_key=1710474750-0-0-3e31f8c833deb6e2ee5e6d3460a97d5d
直播流FLV地址是: https://pull-l3.douyincdn.com/third/stream-114747439126151647_or4.flv?auth_key=1710474750-0-0-58be278fac44bec3269315419f498a52
间隔10秒更新一下排行
2024-03-08 12:22:30,617 - INFO - 房间标题: 铜雀台三国麻将研究院
2024-03-08 12:22:30,617 - INFO - 主播账号信息: {'id_str': '316308007967085', 'sec_uid': 'MS4wLjABAAAAFwrpDSzyYinUSad9sdZQR1aH7220JyGZ46IQiU7tQP4', 'nickname': '三国麻将会所', 'avatar_thumb': {'url_list': ['https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_d72a7a6e92dc22f7ccb3fa74862bf286.jpeg?from=3067671334', 'https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_d72a7a6e92dc22f7ccb3fa74862bf286.jpeg?from=3067671334', 'https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_d72a7a6e92dc22f7ccb3fa74862bf286.jpeg?from=3067671334']}, 'follow_info': {'follow_status': 0, 'follow_status_str': '0'}}
2024-03-08 12:22:30,618 - INFO - 直播流m3u8链接地址是: https://pull-l3.douyincdn.com/third/stream-114747439126151647_or4.m3u8?auth_key=1710474750-0-0-3e31f8c833deb6e2ee5e6d3460a97d5d
2024-03-08 12:22:30,618 - INFO - 直播流FLV地址是: https://pull-l3.douyincdn.com/third/stream-114747439126151647_or4.flv?auth_key=1710474750-0-0-58be278fac44bec3269315419f498a52
2024-03-08 12:22:30,619 - DEBUG - Starting new HTTPS connection (1): live.douyin.com:443
2024-03-08 12:22:30,886 - INFO - Websocket connected
2024-03-08 12:22:30,886 - INFO - [onOpen] [webSocket Open事件] [房间Id：7343835887966391067]
2024-03-08 12:22:30,887 - INFO - [ping] [💗发送ping心跳] [房间Id：7343835887966391067] ====> 房间🏖标题【铜雀台三国麻将研究院】
2024-03-08 12:22:30,932 - INFO - [sendAck] [🌟发送Ack] [房间Id：7343835887966391067] ====> 房间标题【铜雀台三国麻将研究院】
2024-03-08 12:22:30,932 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6390] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843225541475391", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "92101013351", "shortId": "338074226", "nickName": "可莉炸弹", "gender": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_oIPNAIbnNENq9elAaGBOCrsRtCTA6DkAeAAzIg.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_22.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "22", "alternativeText": "荣誉等级22级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_7.png~tplv-obj.image"], "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "7", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "1128", "followerCount": "333", "followStatus": "1", "followerCountStr": "333", "followingCountStr": "1128"}, "displayId": "520vle1314", "secUid": "MS4wLjABAAAALuazmnJfbmFB3kRhQprrQUZK54eRDADhOQ84UGzVWWg"}, "memberCount": "6390", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,932 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6340] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843225873141260", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "54414182237", "shortId": "108916875", "nickName": "渲染╰つ世的悲傷", "Level": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_037ee272856346739a2ce6599d37f9a2.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "1707", "followerCount": "23", "followerCountStr": "23", "followingCountStr": "1707"}, "displayId": "108916875", "secUid": "MS4wLjABAAAA6YO0hhrZkYDBhzKy06lL6O1zHiGb6VTotddK7m-ssnI"}, "memberCount": "6340", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,933 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6322] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843224699009573", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "2762406283984664", "shortId": "4207944519", "nickName": "排骨人", "gender": 1, "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_70f8355ce62144d0b96b900d7c2cf3db.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_3.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "3", "alternativeText": "荣誉等级3级勋章"}}], "FollowInfo": {"followingCount": "32", "followerCount": "54399", "followerCountStr": "5.4万", "followingCountStr": "32"}, "displayId": "Oskarwu", "secUid": "MS4wLjABAAAAFBSHS5_VSzupfRXq3Re4jlfNhtuZVLk-dZlT_tlJnLf3iWDDOd3DdEKd9hYCQhqQ"}, "memberCount": "6322", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,936 - INFO - [onMessage] [待解析方法WebcastRanklistHourEntranceMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,936 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6340] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843229044292899", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "111284191727", "shortId": "2145968601", "nickName": "Tao-", "gender": 1, "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_2404f4463a4318cc02163d1a999b5885.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "3", "followerCount": "1", "followerCountStr": "1", "followingCountStr": "3"}, "displayId": "2145968601", "secUid": "MS4wLjABAAAAxQlyvtT9OQcK0xrob6zTXjHSE5ex_yf7FF0FWoR5ITw"}, "memberCount": "6340", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,936 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6340] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843231299581193", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "1654096954670719", "shortId": "4157770825", "nickName": "桥龙", "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_e017d23a16d4403c87000284261c0530.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_15.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "15", "alternativeText": "荣誉等级15级勋章"}}], "FollowInfo": {"followingCount": "401", "followerCount": "51", "followStatus": "1", "followerCountStr": "51", "followingCountStr": "401"}, "displayId": "qiaolong2189", "secUid": "MS4wLjABAAAAqg9qDmzyyfhx4I5Gf5jhLJHNayUEBRyhX-6qN33k5CSykipG3OPMSLy7DxsB43MH"}, "memberCount": "6340", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,936 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6322] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843230666596147", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "99647098225", "shortId": "1014265191", "nickName": "五月呀", "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_8aed000a4bb12256d73f.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_1.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "1", "alternativeText": "荣誉等级1级勋章"}}], "FollowInfo": {"followingCount": "561", "followerCount": "20", "followerCountStr": "20", "followingCountStr": "561"}, "displayId": "1014265191", "secUid": "MS4wLjABAAAA9ThZdVE9WA7PqCNR_HJCJa5q45xw5yf4uV3xqHSdF0U"}, "memberCount": "6322", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,936 - INFO - [onMessage] [待解析方法WebcastInRoomBannerMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,937 - INFO - [unPackWebcastGiftMessage] [直播间礼物消息1:1] [房间Id：7343835887966391067] {"common": {"method": "WebcastGiftMessage", "msgId": "7343843183991755803", "roomId": "7343835887966391067", "createTime": "1709871747370", "isShowMsg": true, "describe": "随心:送给主播 1个小心心", "priorityScore": "31000"}, "giftId": "463", "groupCount": "1", "repeatCount": "1", "comboCount": "1", "user": {"id": "110928658406", "shortId": "2003079954", "nickName": "随心", "gender": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/mosaic-legacy_3796_2975850990"}, "BadgeImageList": [{"urlListList": ["http://p6-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_5.png~tplv-obj.image", "http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_5.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_5.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_5.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "5", "alternativeText": "荣誉等级5级勋章"}}], "FollowInfo": {"followingCount": "159", "followerCount": "42", "followerCountStr": "42", "followingCountStr": "159"}, "displayId": "2003079954", "secUid": "MS4wLjABAAAAUS41jv6wvS_nrUlIhstxOC6MOsHu9dCEmw5VGHnGPaM"}, "groupId": "1709871747", "gift": {"image": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p6-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#3D3D3D"}, "describe": "送出小心心", "id": "463", "forLinkmic": true, "combo": true, "type": 1, "diamondCount": 1, "isDisplayedOnPanel": true, "name": "小心心", "icon": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p6-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#A37C7C"}}, "sendType": "1", "publicAreaCommon": {"userLabel": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/userlabel_new_chat.png~tplv-obj.image", "http://p6-webcast.douyinpic.com/img/webcast/userlabel_new_chat.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/userlabel_new_chat.png~tplv-obj.image"], "uri": "webcast/userlabel_new_chat.png", "avgColor": "#CCBEA3"}}, "trayDisplayText": {"key": "webcast_aweme_tray_message_to_anchor", "defaultPatter": "送{0}", "defaultFormat": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}, "piecesList": [{"type": true, "format": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}}]}, "totalCount": "1", "clientGiftSource": 1, "sendTime": "1709871746610", "traceId": "6c146b482a8fb42675f5bb18938754b2"}
2024-03-08 12:22:30,938 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6418] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843229911643659", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "96145786720", "shortId": "2806575241", "nickName": "叶子迷", "gender": 1, "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_6d3f2c90f1b37da9f4ad56ed0ba6b039.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_32.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "32", "alternativeText": "荣誉等级32级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_15.png~tplv-obj.image"], "imageType": 7, "content": {"name": "经纪人", "fontColor": "#FFFFFF", "level": "15", "alternativeText": "经纪人粉丝团勋章"}}], "FollowInfo": {"followingCount": "129", "followerCount": "120", "followerCountStr": "120", "followingCountStr": "129"}, "displayId": "yezimi56008", "secUid": "MS4wLjABAAAAwNN7r8XP1LrIvrNvL0VUPOktNp01B3s0Fb4OGEhBqVM"}, "memberCount": "6418", "action": "1", "enterEffectConfig": {"type": "8", "text": {"key": "honor_live_room_enter_effect", "defaultPatter": "{0:user} 加入了直播间", "defaultFormat": {"color": "#FFFFFF", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#FFFFFF", "useRemoteClor": true}}]}, "textIcon": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_grade_enter_32_v3.png~tplv-obj.image"], "avgColor": "#FFF8EB"}, "stayTime": 2000, "badge": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_32.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "32"}}, "flexSettingArrayList": ["50", "50", "50", "50"], "textIconOverlay": {"avgColor": "#CCA3BE"}, "textFlexSettingArrayList": ["13", "13", "19", "19"], "dynamicImage": {"avgColor": "#FFEBEB"}, "extraMap": {"to_user_id": "96145786720", "effect_id": "101", "effect_source": "honor_level"}, "priority": "40000", "maxWaitTime": "60"}, "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,939 - INFO - [onMessage] [待解析方法WebcastRanklistHourEntranceMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,939 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6373] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843234605152034", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "105796019822", "shortId": "3406678767", "nickName": "服软·", "gender": 1, "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_1d9a564e6716275a0e165bfbbb775194.jpeg?from=3067671334"]}, "FollowInfo": {"followingCount": "10", "followerCount": "29", "followerCountStr": "29", "followingCountStr": "10"}, "displayId": "Smile...B", "secUid": "MS4wLjABAAAAykN8bkeakyAndS9Yu7nSuOV3i_z7zGoR_hCdJ_lPm0g"}, "memberCount": "6373", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,939 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6307] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843235297191433", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "100062700780", "shortId": "1046549236", "nickName": "执笔画天下沉浮", "gender": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_d88716403f8b4072a18afce3dc6015c6.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_31.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "31", "alternativeText": "荣誉等级31级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_12.png~tplv-obj.image"], "imageType": 7, "content": {"name": "亿身价", "fontColor": "#FFFFFF", "level": "12", "alternativeText": "亿身价粉丝团勋章"}}], "FollowInfo": {"followingCount": "66", "followerCount": "37", "followerCountStr": "37", "followingCountStr": "66"}, "displayId": "tiger199745", "secUid": "MS4wLjABAAAAKEKRqc-SgxHqmK_1mVLi6VIJvzf76Jll9-CBEz3b3aA"}, "memberCount": "6307", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,939 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6418] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843236101878821", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "59957618576", "shortId": "18704337", "nickName": "琳.", "Level": 1, "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_9e2154d665604164923c47c4be5ce24d.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_3.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "3", "alternativeText": "荣誉等级3级勋章"}}], "FollowInfo": {"followingCount": "68", "followerCount": "33", "followerCountStr": "33", "followingCountStr": "68"}, "displayId": "18704337", "secUid": "MS4wLjABAAAAG8vUOELM58I8MSNGctTMOms_fZC7T7n1fo72znGHCbM"}, "memberCount": "6418", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,941 - INFO - [onMessage] [待解析方法WebcastRanklistHourEntranceMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,941 - INFO - [unPackWebcastChatMessage] [直播间弹幕消息1] [房间Id：7343835887966391067] | {"common": {"method": "WebcastChatMessage", "msgId": "7343842614728823823", "roomId": "7343835887966391067", "isShowMsg": true, "priorityScore": "31099"}, "user": {"id": "70296565051", "shortId": "85521813", "nickName": "可苦可乐_", "Level": 1, "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_538480bf9476e6b0372e66d1fe02ef67.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p6-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_1.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "1", "alternativeText": "荣誉等级1级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_2.png~tplv-obj.image"], "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "2", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "45", "followerCount": "18", "followStatus": "1", "followerCountStr": "0", "followingCountStr": "0"}, "displayId": "85521813", "secUid": "MS4wLjABAAAAy491Ec09GrsU-iFESY3r9U8bu1YwLYf9-Jt2jNojPXE"}, "content": "点下方手柄玩同款游戏 进来过招", "giftImage": {"urlListList": ["\nVhttp://p3-webcast.douyinpic.com/img/webcast/userlabel_regular_watch.png~tplv-obj.image*\u0007#7A536D"], "width": "30", "avgColor": "\n\u00017\u0012\u00011"}, "eventTime": "1709871748"}
2024-03-08 12:22:30,941 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6418] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843236912737551", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "1371812274636119", "shortId": "3876197559", "nickName": "徐继康", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3793_3131589739.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p6-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_3.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "3", "alternativeText": "荣誉等级3级勋章"}}], "FollowInfo": {"followingCount": "517", "followerCount": "137", "followerCountStr": "137", "followingCountStr": "517"}, "displayId": "xujikang6051", "secUid": "MS4wLjABAAAAXHY2xkGOkqWDCl2yyr1XqipSlQGNzaAXbNC81J1KMYg_jbqf5qOnjw3j1U1j3q6Q"}, "memberCount": "6418", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,941 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6373] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843240577404197", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "55284371231", "shortId": "3100516486", "nickName": "用户64544864", "Level": 1, "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_78a4004fa932dcf48a9d.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_1.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "1", "alternativeText": "荣誉等级1级勋章"}}], "FollowInfo": {"followingCount": "658", "followerCount": "17", "followerCountStr": "17", "followingCountStr": "658"}, "displayId": "dymir1kp9j0y", "secUid": "MS4wLjABAAAAcHRY3payFvpYVkvAK56Moua7aVJRX96cd6WpXdxpfJI"}, "memberCount": "6373", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,942 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6418] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843239294463755", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "4001847869712792", "shortId": "3626730149", "nickName": "就当我是陌生人吧", "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_71f5d73d50b97e3a858b4148e63d6d89.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_3.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "3", "alternativeText": "荣誉等级3级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/ranklist_fansclub_super_badge_7.png~tplv-obj.image"], "imageType": 7, "content": {"name": "陈伯", "fontColor": "#FFFFFF", "level": "7", "alternativeText": "陈伯粉丝团勋章"}}], "FollowInfo": {"followingCount": "36", "followerCount": "12", "followerCountStr": "12", "followingCountStr": "36"}, "displayId": "GaGaGeGe1314", "secUid": "MS4wLjABAAAAedli6J1EIs_loXN4yJ7ROUglEuJHK8SbIeCN0Yvn4LIIBD8g8ZDaGWacU1fA3HUB"}, "memberCount": "6418", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,942 - INFO - [unPackWebcastChatMessage] [直播间弹幕消息2] [房间Id：7343835887966391067] | {"common": {"method": "WebcastChatMessage", "msgId": "7343843222961624076", "roomId": "7343835887966391067", "isShowMsg": true, "priorityScore": "31000"}, "user": {"id": "93056223122", "shortId": "1614528516", "nickName": "🌈春旭点正🌈", "gender": 1, "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_oIDEAAO5DeAfixAgI9KnDYxC4PgAKVlHUAibCp.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_15.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "15", "alternativeText": "荣誉等级15级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_7.png~tplv-obj.image"], "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "7", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "266", "followerCount": "82", "followStatus": "1", "followerCountStr": "0", "followingCountStr": "0"}, "displayId": "41shutan4875", "secUid": "MS4wLjABAAAAfmMQc6_lXXFTsY42mmQRzQz8cjuDqnhLso6HfNBGQ2Y"}, "content": "算沟里了", "giftImage": {"urlListList": ["\nUhttp://p6-webcast.douyinpic.com/img/webcast/userlabel_regular_chat.png~tplv-obj.image*\u0007#523737"], "width": "50"}, "eventTime": "1709871749"}
2024-03-08 12:22:30,942 - INFO - [unPackWebcastGiftMessage] [直播间礼物消息2:2] [房间Id：7343835887966391067] {"common": {"method": "WebcastGiftMessage", "msgId": "7343843164178043958", "roomId": "7343835887966391067", "createTime": "1709871749640", "isShowMsg": true, "describe": "是清醒也是知趣:送给主播 1个粉丝团灯牌", "priorityScore": "31000"}, "giftId": "685", "groupCount": "1", "repeatCount": "1", "comboCount": "1", "user": {"id": "98544836228", "shortId": "943379006", "nickName": "是清醒也是知趣", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_o4IzlsAB9KZ2AC3glLfAJZAAhCN7zbAEQgNf9b.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_o4IzlsAB9KZ2AC3glLfAJZAAhCN7zbAEQgNf9b.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_o4IzlsAB9KZ2AC3glLfAJZAAhCN7zbAEQgNf9b.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-i-0813_o4IzlsAB9KZ2AC3glLfAJZAAhCN7zbAEQgNf9b"}, "BadgeImageList": [{"urlListList": ["http://p6-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_10.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_10.png~tplv-obj.image", "http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_10.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_10.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "10", "alternativeText": "荣誉等级10级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_6.png~tplv-obj.image", "http://p6-webcast.douyinpic.com/img/webcast/fansclub_level_v6_6.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/fansclub_level_v6_6.png~tplv-obj.image"], "uri": "webcast/fansclub_level_v6_6.png", "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "6", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "230", "followerCount": "6", "followerCountStr": "6", "followingCountStr": "230"}, "displayId": "943379006", "secUid": "MS4wLjABAAAA_P8xyTUeYu6O3Pqzbu1yidM4pDqunLGsAyes0LpPdGc"}, "groupId": "1709871749", "priority": {"queueSizesList": ["18446744073709551615", "18446744073709551615", "200", "150"], "selfQueuePriority": "1", "priority": "3"}, "gift": {"image": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/722e56b42551d6490e5ebd9521287c67~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/722e56b42551d6490e5ebd9521287c67~tplv-obj.png", "http://p6-webcast.douyinpic.com/img/webcast/722e56b42551d6490e5ebd9521287c67~tplv-obj.png"], "uri": "webcast/722e56b42551d6490e5ebd9521287c67", "avgColor": "#FADCDC"}, "describe": "送出粉丝团灯牌", "duration": "3200", "id": "685", "forFansclub": true, "type": 4, "diamondCount": 1, "isDisplayedOnPanel": true, "primaryEffectId": "1768", "giftLabelIcon": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/31e32238eaa8fcc28efd7374099dca76.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/31e32238eaa8fcc28efd7374099dca76.png~tplv-obj.png", "http://p6-webcast.douyinpic.com/img/webcast/31e32238eaa8fcc28efd7374099dca76.png~tplv-obj.png"], "uri": "webcast/31e32238eaa8fcc28efd7374099dca76.png", "avgColor": "#B8B8B8"}, "name": "粉丝团灯牌", "icon": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/722e56b42551d6490e5ebd9521287c67~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/722e56b42551d6490e5ebd9521287c67~tplv-obj.png", "http://p6-webcast.douyinpic.com/img/webcast/722e56b42551d6490e5ebd9521287c67~tplv-obj.png"], "uri": "webcast/722e56b42551d6490e5ebd9521287c67", "avgColor": "#7A536D"}}, "sendType": "1", "publicAreaCommon": {"userLabel": {"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/userlabel_regular_chat.png~tplv-obj.image", "http://p3-webcast.douyinpic.com/img/webcast/userlabel_regular_chat.png~tplv-obj.image", "http://p6-webcast.douyinpic.com/img/webcast/userlabel_regular_chat.png~tplv-obj.image"], "uri": "webcast/userlabel_regular_chat.png", "avgColor": "#FADCDC"}}, "trayDisplayText": {"key": "webcast_aweme_tray_message_to_anchor", "defaultPatter": "送{0}", "defaultFormat": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}, "piecesList": [{"type": true, "format": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}}]}, "totalCount": "1", "clientGiftSource": 1, "sendTime": "1709871748634", "traceId": "30eccc2dae287047003b39c9c725d15f"}
2024-03-08 12:22:30,944 - INFO - [onMessage] [待解析方法WebcastInRoomBannerMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,944 - INFO - [onMessage] [待解析方法WebcastRanklistHourEntranceMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,944 - INFO - [unPackWebcastChatMessage] [直播间弹幕消息3] [房间Id：7343835887966391067] | {"common": {"method": "WebcastChatMessage", "msgId": "7343843219786535977", "roomId": "7343835887966391067", "isShowMsg": true, "priorityScore": "31004"}, "user": {"id": "196154173176804", "shortId": "31701149696", "nickName": "🌈想念🌈", "AvatarThumb": {"urlListList": ["https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_o0BDyy8fIrbADuLCWaXnbAa9X1A8AAWgAIRlQe.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_10.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "10", "alternativeText": "荣誉等级10级勋章"}}, {"urlListList": ["http://p11-webcast.douyinpic.com/img/webcast/fansclub_level_v6_2.png~tplv-obj.image"], "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "2", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "288", "followerCount": "10", "followStatus": "1", "followerCountStr": "0", "followingCountStr": "0"}, "displayId": "31701149696", "secUid": "MS4wLjABAAAA6JuMp_DvfWHgiEGFtbWE2lqZnBgF25t7TPzntvtq51U"}, "content": "他打七筒，四筒不是安全牌吗", "giftImage": {"urlListList": ["\nUhttp://p3-webcast.douyinpic.com/img/webcast/userlabel_regular_chat.png~tplv-obj.image*\u0007#A3967C"], "width": "50"}, "eventTime": "1709871749"}
2024-03-08 12:22:30,944 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6322] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843242343505716", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "78516536155", "shortId": "891718073", "nickName": "深巷的少年(汪仔)", "gender": 1, "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_854edbda7d72d3a1364c64a31f842b78.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p6-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_23.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "23", "alternativeText": "荣誉等级23级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_6.png~tplv-obj.image"], "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "6", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "1330", "followerCount": "105", "followStatus": "1", "followerCountStr": "105", "followingCountStr": "1330"}, "displayId": "891718073", "secUid": "MS4wLjABAAAA43f-J8QKndC2lnAaJBgjTjfgPq9RIJ8lJqENkEFcOF4"}, "memberCount": "6322", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,944 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6390] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843242704751667", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "64335225499", "shortId": "141488482", "nickName": "萱梦姐妹俩的日常", "gender": 2, "Level": 1, "AvatarThumb": {"urlListList": ["https://p11.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_380abcf357bd475bb27d66e9bb58eb72.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_5.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "5", "alternativeText": "荣誉等级5级勋章"}}], "FollowInfo": {"followingCount": "1464", "followerCount": "33", "followStatus": "1", "followerCountStr": "33", "followingCountStr": "1464"}, "displayId": "141488482", "secUid": "MS4wLjABAAAAwmirlaZ2bvHgLPYRu1mvF_AwWxGO09bVZSTeL5WmlQM"}, "memberCount": "6390", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}, "anchorEnterTipType": "3"}
2024-03-08 12:22:30,946 - INFO - [unPackWebcastMemberMessage] [直播间成员加入: 6322] [房间Id：7343835887966391067] | {"common": {"method": "WebcastMemberMessage", "msgId": "7343843243169247514", "roomId": "7343835887966391067", "isShowMsg": true, "foldType": "1", "anchorFoldType": "1", "priorityScore": "42000", "anchorFoldTypeV2": "3"}, "user": {"id": "97753664884", "shortId": "879056394", "nickName": "@伟哥哥", "gender": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_d8ce3eee6b28bced1b78a364ba2a8b8d.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_3.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "3", "alternativeText": "荣誉等级3级勋章"}}], "FollowInfo": {"followingCount": "1495", "followerCount": "1741", "followerCountStr": "1741", "followingCountStr": "1495"}, "displayId": "zhangwei.1314520", "secUid": "MS4wLjABAAAA5tz5sJ1yo6v4tnQQ47_v7yiL-c5FQNc2jZXDJFBtjJk"}, "memberCount": "6322", "action": "1", "anchorDisplayText": {"key": "live_room_enter_toast", "defaultPatter": "{0:user} 来了{1:string}", "defaultFormat": {"color": "#b8ffffff", "weight": 400}, "piecesList": [{"type": true, "format": {"color": "#8CE7FF", "weight": 400}}]}, "publicAreaCommon": {}}
2024-03-08 12:22:30,946 - INFO - [unPackWebcastRoomUserSeqMessage] [] [房间Id：7343835887966391067] | {"common": {"method": "WebcastRoomUserSeqMessage", "msgId": "7343843239563609868", "roomId": "7343835887966391067", "createTime": "1709871748543"}, "ranksList": [{"user": {"id": "97408208046", "nickName": "二哥迟到道歉，不然你完了", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_26da600029dd3add54587.jpeg?from=3067671334", "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_26da600029dd3add54587.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_26da600029dd3add54587.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/mosaic-legacy_26da600029dd3add54587"}, "FollowInfo": {}, "idStr": "97408208046"}, "rank": "1"}, {"user": {"id": "3408097587768740", "nickName": "Sugarlea🍀别离", "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_368a407bcd315ba89aa40b90ff15a90f.jpeg?from=3067671334", "https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_368a407bcd315ba89aa40b90ff15a90f.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-avt-0015_368a407bcd315ba89aa40b90ff15a90f.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-avt-0015_368a407bcd315ba89aa40b90ff15a90f"}, "FollowInfo": {}, "idStr": "3408097587768740"}, "rank": "2"}, {"user": {"id": "71712339865", "nickName": "殇夢丶", "AvatarThumb": {"urlListList": ["https://p26.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_owX62AbAeIzAID4NOCEA6IzyAWUfhAH6CgoxWy.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_owX62AbAeIzAID4NOCEA6IzyAWUfhAH6CgoxWy.jpeg?from=3067671334", "https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_owX62AbAeIzAID4NOCEA6IzyAWUfhAH6CgoxWy.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/tos-cn-i-0813c001_owX62AbAeIzAID4NOCEA6IzyAWUfhAH6CgoxWy"}, "FollowInfo": {}, "idStr": "71712339865"}, "rank": "3"}], "total": "6373", "totalUser": "72775", "totalUserStr": "7万+", "totalStr": "6373", "onlineUserForAnchor": "6373", "totalPvForAnchor": "7.3万"}
2024-03-08 12:22:30,946 - INFO - [unPackWebcastChatMessage] [直播间弹幕消息4] [房间Id：7343835887966391067] | {"common": {"method": "WebcastChatMessage", "msgId": "7343842749164065807", "roomId": "7343835887966391067", "isShowMsg": true, "priorityScore": "31000"}, "user": {"id": "940770411426247", "shortId": "3430755023", "nickName": "游客187130584965113390", "gender": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813c001_6da5620ff99e434497c91769f455c11c.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_26.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "26", "alternativeText": "荣誉等级26级勋章"}}, {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/fansclub_level_v6_6.png~tplv-obj.image"], "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "6", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "54", "followerCount": "63", "followStatus": "1", "followerCountStr": "0", "followingCountStr": "0"}, "displayId": "ming93981", "secUid": "MS4wLjABAAAAlqMh8B85AIXTsSy2iVBpPnyXuZd9YBPWgkeNzxhJwTs"}, "content": "点下方手柄玩同款游戏 进来过招", "giftImage": {"urlListList": ["\nUhttp://p6-webcast.douyinpic.com/img/webcast/userlabel_regular_chat.png~tplv-obj.image*\u0007#A3A3CC"], "width": "30", "avgColor": "\n\u00017\u0012\u00011"}, "eventTime": "1709871749"}
2024-03-08 12:22:30,947 - INFO - [unPackWebcastGiftMessage] [直播间礼物消息3:3] [房间Id：7343835887966391067] {"common": {"method": "WebcastGiftMessage", "msgId": "7343843200589026338", "roomId": "7343835887966391067", "createTime": "1709871750", "isShowMsg": true, "describe": "随心:送给主播 1个小心心", "priorityScore": "31000"}, "giftId": "463", "groupCount": "1", "repeatCount": "1", "comboCount": "1", "user": {"id": "110928658406", "shortId": "2003079954", "nickName": "随心", "gender": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334", "https://p11.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334", "https://p6.douyinpic.com/aweme/100x100/aweme-avatar/mosaic-legacy_3796_2975850990.jpeg?from=3067671334"], "uri": "100x100/aweme-avatar/mosaic-legacy_3796_2975850990"}, "BadgeImageList": [{"urlListList": ["http://p6-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_5.png~tplv-obj.image", "http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_5.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_5.png~tplv-obj.image"], "uri": "webcast/new_user_grade_level_v1_5.png", "height": "16", "width": "32", "imageType": 1, "content": {"level": "5", "alternativeText": "荣誉等级5级勋章"}}], "FollowInfo": {"followingCount": "159", "followerCount": "42", "followerCountStr": "42", "followingCountStr": "159"}, "displayId": "2003079954", "secUid": "MS4wLjABAAAAUS41jv6wvS_nrUlIhstxOC6MOsHu9dCEmw5VGHnGPaM"}, "repeatEnd": 1, "groupId": "1709871747", "gift": {"image": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p6-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#3D3D3D"}, "describe": "送出小心心", "id": "463", "forLinkmic": true, "combo": true, "type": 1, "diamondCount": 1, "isDisplayedOnPanel": true, "name": "小心心", "icon": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p6-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png", "http://p11-webcast.douyinpic.com/img/webcast/154c9946db73cba98529ab66792e5385.png~tplv-obj.png"], "uri": "webcast/154c9946db73cba98529ab66792e5385.png", "avgColor": "#A37C7C"}}, "sendType": "1", "publicAreaCommon": {"userLabel": {"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/userlabel_new_chat.png~tplv-obj.image", "http://p6-webcast.douyinpic.com/img/webcast/userlabel_new_chat.png~tplv-obj.image", "http://p11-webcast.douyinpic.com/img/webcast/userlabel_new_chat.png~tplv-obj.image"], "uri": "webcast/userlabel_new_chat.png", "avgColor": "#CCBEA3"}}, "trayDisplayText": {"key": "webcast_aweme_tray_message_to_anchor", "defaultPatter": "送{0}", "defaultFormat": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}, "piecesList": [{"type": true, "format": {"color": "#B3FFFFFF", "weight": 400, "useRemoteClor": true}}]}, "totalCount": "1", "clientGiftSource": 1, "sendTime": "1709871746610", "traceId": "6c146b482a8fb42675f5bb18938754b2"}
2024-03-08 12:22:30,947 - INFO - [unPackWebcastChatMessage] [直播间弹幕消息5] [房间Id：7343835887966391067] | {"common": {"method": "WebcastChatMessage", "msgId": "7343843224735929396", "roomId": "7343835887966391067", "isShowMsg": true, "priorityScore": "31090"}, "user": {"id": "99384999626", "shortId": "1297899412", "nickName": "干饭王的男人", "gender": 1, "AvatarThumb": {"urlListList": ["https://p3.douyinpic.com/aweme/100x100/aweme-avatar/tos-cn-i-0813_oU8JmtgIDjnAiNMeR3CuClENbAfA9AAAEW2EbW.jpeg?from=3067671334"]}, "BadgeImageList": [{"urlListList": ["http://p3-webcast.douyinpic.com/img/webcast/new_user_grade_level_v1_11.png~tplv-obj.image"], "height": "16", "width": "32", "imageType": 1, "content": {"level": "11", "alternativeText": "荣誉等级11级勋章"}}, {"urlListList": ["http://p6-webcast.douyinpic.com/img/webcast/fansclub_level_v6_1.png~tplv-obj.image"], "imageType": 7, "content": {"name": "级雀圣", "fontColor": "#FFFFFF", "level": "1", "alternativeText": "级雀圣粉丝团勋章"}}], "FollowInfo": {"followingCount": "640", "followerCount": "55", "followStatus": "1", "followerCountStr": "0", "followingCountStr": "0"}, "displayId": "1297899412", "secUid": "MS4wLjABAAAAQmGgBpKfekuYM5JCpkWiEYGQZu53fg38_4tAFKOdPxs"}, "content": "右边求死", "giftImage": {"urlListList": ["\nRhttp://p11-webcast.douyinpic.com/img/webcast/userlabel_new_chat.png~tplv-obj.image*\u0007#7C9BA3"], "width": "50"}, "eventTime": "1709871749"}
2024-03-08 12:22:30,954 - INFO - [sendAck] [🌟发送Ack] [房间Id：7343835887966391067] ====> 房间标题【铜雀台三国麻将研究院】
2024-03-08 12:22:30,954 - INFO - [onMessage] [待解析方法WebcastRoomDataSyncMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,954 - INFO - [onMessage] [待解析方法WebcastInRoomBannerMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,954 - INFO - [onMessage] [待解析方法WebcastRoomRankMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,954 - INFO - [onMessage] [待解析方法WebcastRoomStatsMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,954 - INFO - [onMessage] [待解析方法WebcastActivityEmojiGroupsMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:30,954 - INFO - [onMessage] [待解析方法WebcastRoomStreamAdaptationMessage等待解析～] [房间Id：7343835887966391067]
2024-03-08 12:22:31,068 - DEBUG - https://live.douyin.com:443 "GET /webcast/ranklist/audience/?aid=6383&app_name=douyin_web&live_id=1&device_platform=web&language=zh-CN&cookie_enabled=true&screen_width=2560&screen_height=1440&browser_language=zh-CN&browser_platform=Win32&browser_name=Chrome&browser_version=117.0.0.0&webcast_sdk_version=2450&room_id=7343835887966391067&rank_type=30 HTTP/1.1" 200 None
更新打赏排行: [{'nickname': '二哥迟到道歉，不然你完了', 'rank': 1}, {'nickname': 'Sugarlea🍀别离', 'rank': 2}, {'nickname': '殇夢丶', 'rank': 3}, {'nickname': '关将军还是有牛叫实力的', 'rank': 4}]
2024-03-08 12:22:31,099 - INFO - 更新打赏排行: [{'nickname': '二哥迟到道歉，不然你完了', 'rank': 1}, {'nickname': 'Sugarlea🍀别离', 'rank': 2}, {'nickname': '殇夢丶', 'rank': 3}, {'nickname': '关将军还是有牛叫实力的', 'rank': 4}]
2024-03-08 12:22:31,583 - INFO - [sendAck] [🌟发送Ack] [房间Id：7343835887966391067] ====> 房间标题【铜雀台三国麻将研究院】
```

## uuid记录

taskuuid：对应的是每个方法名称
gameuuid：一场比赛对应的uuid，在某个地方可以修改（页面上或者哪里），测试可以使用页面上的
teamuuid：每个队伍对应的uuid，查询队伍的时候会返回给我
uuid：应援的uuid，是添加应援的时候，返回给我
